{"version":3,"sources":["components/transactionHistory/TransactionHistory.module.css","components/Dashboard.module.css","components/balance/Balance.module.css","components/controls/Controls.jsx","components/balance/Balance.jsx","components/transactionHistory/TransactionHistory.jsx","components/Dashboard.jsx","index.jsx","components/controls/Controls.module.css"],"names":["module","exports","Controls","state","amount","type","date","notifyLittleMoney","toast","autoClose","position","notifyNegativeMoney","onChange","e","setState","target","value","parseFloat","onClick","balance","props","name","Date","toLocaleString","addOperation","this","className","styles","controls","input","step","btn","Component","Balance","changeBalance","deposits","Deposit","withdrawals","Withdrawal","depositsToFormat","toFixed","replace","withdrawalsToFormat","balanceToFormat","arrow_increase","String","fromCharCode","arrow_decrease","TransactionHistory","transactions","length","table","tableHead","tableTitle","map","item","key","id","data","reverse","Dashboard","transaction","handleClick","a","newOperation","uuid","v4","updBalance","getValues","values","reduce","acc","dashboard","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d90acea.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionHistory_table__s3ssx\",\"tableHead\":\"TransactionHistory_tableHead__3ZzHZ\",\"tableTitle\":\"TransactionHistory_tableTitle__3LHXw\",\"data\":\"TransactionHistory_data__3rlFy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__3uOvU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2L_75\",\"arrow_increase\":\"Balance_arrow_increase__108Ed\",\"arrow_decrease\":\"Balance_arrow_decrease__3xpIS\",\"amount\":\"Balance_amount__2_ScH\"};","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nclass Controls extends Component {\n  state = {\n    amount: '',\n    type: '',\n    date: '',\n  };\n\n  static propTypes = {\n    addOperation: PropTypes.func.isRequired,\n    balance: PropTypes.number.isRequired,\n  };\n\n  notifyLittleMoney = () => {\n    toast(\"Sorry, you don't have enough money on your account\", {\n      autoClose: 2000,\n      position: 'top-center',\n    });\n  };\n\n  notifyNegativeMoney = () => {\n    toast('The amount needs to be bigger than zero', {\n      autoClose: 2000,\n      position: 'top-center',\n    });\n  };\n\n  onChange = e => {\n    const amount = () =>\n      e.target.value === '' ? '' : parseFloat(e.target.value);\n    this.setState({ amount: amount() });\n  };\n\n  onClick = e => {\n    const { balance } = this.props;\n    const { amount } = this.state;\n    if (amount > 0) {\n      const withdrawal = () => (e.target.name === 'Withdrawal' ? amount : 0);\n      if (balance < withdrawal()) {\n        this.notifyLittleMoney();\n        this.setState({ amount: '', type: '', date: '' });\n        return;\n      }\n      const date = new Date();\n      this.setState(\n        {\n          type: e.target.name,\n          date: date.toLocaleString(),\n        },\n        () => {\n          this.props.addOperation(this.state);\n          this.setState({ amount: '', type: '', date: '' });\n        },\n      );\n    } else {\n      this.notifyNegativeMoney();\n      this.setState({ amount: '', type: '', date: '' });\n    }\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input\n          className={styles.input}\n          value={amount}\n          type=\"number\"\n          onChange={this.onChange}\n          step=\"0.01\"\n        />\n        <button\n          className={styles.btn}\n          name=\"Deposit\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.btn}\n          name=\"Withdrawal\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          Withdraw\n        </button>\n        <ToastContainer />\n      </section>\n    );\n  }\n}\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ changeBalance }) => {\n  const deposits = changeBalance.Deposit;\n  const withdrawals = changeBalance.Withdrawal;\n  const { balance } = changeBalance;\n  const depositsToFormat = deposits\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  const withdrawalsToFormat = withdrawals\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  const balanceToFormat = balance\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  return (\n    <section className={styles.balance}>\n      <span className={styles.arrow_increase}>\n        {String.fromCharCode(8593)}{' '}\n      </span>\n      <span className={styles.amount}>{depositsToFormat}$</span>\n      <span className={styles.arrow_decrease}>\n        {String.fromCharCode(8595)}{' '}\n      </span>\n      <span className={styles.amount}>{withdrawalsToFormat}$</span>\n      <span className={styles.amount}>Balance: {balanceToFormat}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  changeBalance: PropTypes.shape({\n    Deposit: PropTypes.number.isRequired,\n    Withdrawal: PropTypes.number.isRequired,\n    balance: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => {\n  const amountToFormat = amount =>\n    amount.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  return (\n    transactions.length > 0 && (\n      <table className={styles.table}>\n        <thead className={styles.tableHead}>\n          <tr>\n            <th className={styles.tableTitle}>Transaction</th>\n            <th className={styles.tableTitle}>Amount</th>\n            <th className={styles.tableTitle}>Date</th>\n          </tr>\n        </thead>\n        <tbody>\n          {transactions\n            .map(item => (\n              <tr key={item.id}>\n                <td className={styles.data}>{item.type}</td>\n                <td className={styles.data}>{amountToFormat(item.amount)}$</td>\n                <td className={styles.data}>{item.date}</td>\n              </tr>\n            ))\n            .reverse()}\n        </tbody>\n      </table>\n    )\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport uuid from 'uuid';\n// import transaction from '../transactions.json';\nimport Controls from './controls/Controls';\nimport Balance from './balance/Balance';\nimport TransactionHistory from './transactionHistory/TransactionHistory';\nimport styles from './Dashboard.module.css';\n\nclass Dashboard extends Component {\n  state = {\n    transaction: [],\n    balance: {\n      Deposit: 0,\n      Withdrawal: 0,\n      balance: 0,\n    },\n  };\n\n  handleClick = async amount => {\n    const newOperation = { ...amount, id: uuid.v4() };\n    await this.setState(state => ({\n      transaction: [...state.transaction, newOperation],\n    }));\n    const { transaction } = this.state;\n    const updBalance = this.getValues(transaction);\n    this.setState(state => ({ ...state, balance: updBalance }));\n  };\n\n  getValues = transaction => {\n    const values = transaction.reduce(\n      (acc, item) =>\n        acc[item.type]\n          ? { ...acc, [item.type]: (acc[item.type] += item.amount) }\n          : { ...acc, [item.type]: item.amount },\n      { Deposit: 0, Withdrawal: 0 },\n    );\n    values.balance = values.Deposit - values.Withdrawal;\n    return values;\n  };\n\n  render() {\n    const { transaction, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        <Controls addOperation={this.handleClick} balance={balance.balance} />\n        <Balance changeBalance={balance} />\n        <TransactionHistory transactions={transaction} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dashboard from './components/Dashboard';\nimport './index.css';\n\nReactDOM.render(<Dashboard />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2Job5\",\"input\":\"Controls_input__1qWUy\",\"btn\":\"Controls_btn__194ew Controls_input__1qWUy\"};"],"sourceRoot":""}