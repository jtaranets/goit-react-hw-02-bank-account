{"version":3,"sources":["components/transactionHistory/TransactionHistory.module.css","components/Dashboard.module.css","components/balance/Balance.module.css","components/controls/Controls.js","components/balance/Balance.js","components/transactionHistory/TransactionHistory.js","components/Dashboard.js","index.js","components/controls/Controls.module.css"],"names":["module","exports","Controls","state","amount","type","date","notify","toast","autoClose","position","onChange","e","setState","parseFloat","target","value","onClick","balance","props","name","Date","toLocaleString","addOperation","this","className","styles","controls","input","step","btn","Component","Balance","changeBalance","deposits","Deposit","withdrawals","Withdrawal","depositsToFormat","toFixed","replace","withdrawalsToFormat","balanceToFormat","arrow_increase","String","fromCharCode","arrow_decrease","TransactionHistory","transactions","table","tableHead","tableTitle","map","item","key","id","data","reverse","Dashboard","transaction","handleClick","a","newOperation","uuid","v4","updBalance","getValues","values","reduce","acc","dashboard","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5773ce2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TransactionHistory_table__s3ssx\",\"tableHead\":\"TransactionHistory_tableHead__3ZzHZ\",\"tableTitle\":\"TransactionHistory_tableTitle__3LHXw\",\"data\":\"TransactionHistory_data__3rlFy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"Dashboard_dashboard__3uOvU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"balance\":\"Balance_balance__2L_75\",\"arrow_increase\":\"Balance_arrow_increase__108Ed\",\"arrow_decrease\":\"Balance_arrow_decrease__3xpIS\",\"amount\":\"Balance_amount__2_ScH\"};","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nclass Controls extends Component {\n  state = {\n    amount: '',\n    type: '',\n    date: '',\n  };\n\n  static propTypes = {\n    addOperation: PropTypes.func.isRequired,\n    balance: PropTypes.number.isRequired,\n  };\n\n  notify = () => {\n    toast(\"Sorry, you don't have enough money on your account\", {\n      autoClose: 2000,\n      position: 'top-center',\n    });\n  };\n\n  onChange = e => {\n    this.setState({ amount: parseFloat(e.target.value) });\n  };\n\n  onClick = e => {\n    const { balance } = this.props;\n    const { amount } = this.state;\n    const withdrawal = () => (e.target.name === 'Withdrawal' ? amount : 0);\n    if (balance < withdrawal()) {\n      this.notify();\n      this.setState({ amount: '', type: '', date: '' });\n      return;\n    }\n    const date = new Date();\n    this.setState(\n      {\n        type: e.target.name,\n        date: date.toLocaleString(),\n      },\n      () => {\n        this.props.addOperation(this.state);\n        this.setState({ amount: '', type: '', date: '' });\n      },\n    );\n  };\n\n  render() {\n    const { amount } = this.state;\n    return (\n      <section className={styles.controls}>\n        <input\n          className={styles.input}\n          value={amount}\n          type=\"number\"\n          onChange={this.onChange}\n          step=\"0.01\"\n        />\n        <button\n          className={styles.btn}\n          name=\"Deposit\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          Deposit\n        </button>\n        <button\n          className={styles.btn}\n          name=\"Withdrawal\"\n          onClick={this.onClick}\n          type=\"button\"\n        >\n          Withdraw\n        </button>\n        <ToastContainer />\n      </section>\n    );\n  }\n}\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Balance.module.css';\n\nconst Balance = ({ changeBalance }) => {\n  const deposits = changeBalance.Deposit;\n  const withdrawals = changeBalance.Withdrawal;\n  const { balance } = changeBalance;\n  const depositsToFormat = deposits\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  const withdrawalsToFormat = withdrawals\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  const balanceToFormat = balance\n    .toFixed(2)\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  return (\n    <section className={styles.balance}>\n      <span className={styles.arrow_increase}>\n        {String.fromCharCode(8593)}{' '}\n      </span>\n      <span className={styles.amount}>{depositsToFormat}$</span>\n      <span className={styles.arrow_decrease}>\n        {String.fromCharCode(8595)}{' '}\n      </span>\n      <span className={styles.amount}>{withdrawalsToFormat}$</span>\n      <span className={styles.amount}>Balance: {balanceToFormat}$</span>\n    </section>\n  );\n};\n\nBalance.propTypes = {\n  changeBalance: PropTypes.shape({\n    Deposit: PropTypes.number.isRequired,\n    Withdrawal: PropTypes.number.isRequired,\n    balance: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Balance;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './TransactionHistory.module.css';\n\nconst TransactionHistory = ({ transactions }) => {\n  const amountToFormat = amount =>\n    amount.toFixed(2).replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1 ');\n  return (\n    <table className={styles.table}>\n      <thead className={styles.tableHead}>\n        <tr>\n          <th className={styles.tableTitle}>Transaction</th>\n          <th className={styles.tableTitle}>Amount</th>\n          <th className={styles.tableTitle}>Date</th>\n        </tr>\n      </thead>\n      <tbody>\n        {transactions\n          .map(item => (\n            <tr key={item.id}>\n              <td className={styles.data}>{item.type}</td>\n              <td className={styles.data}>{amountToFormat(item.amount)}$</td>\n              <td className={styles.data}>{item.date}</td>\n            </tr>\n          ))\n          .reverse()}\n      </tbody>\n    </table>\n  );\n};\n\nTransactionHistory.propTypes = {\n  transactions: PropTypes.arrayOf(\n    PropTypes.shape({\n      amount: PropTypes.number.isRequired,\n      date: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired,\n      type: PropTypes.string.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default TransactionHistory;\n","import React, { Component } from 'react';\nimport uuid from 'uuid';\nimport transaction from '../transactions.json';\nimport Controls from './controls/Controls';\nimport Balance from './balance/Balance';\nimport TransactionHistory from './transactionHistory/TransactionHistory';\nimport styles from './Dashboard.module.css';\n\nclass Dashboard extends Component {\n  state = {\n    transaction,\n    balance: {\n      Deposit: 0,\n      Withdrawal: 0,\n      balance: 0,\n    },\n  };\n\n  componentDidMount() {\n    const { transaction } = this.state;\n    const balance = this.getValues(transaction);\n    this.setState({ balance });\n  }\n\n  handleClick = async amount => {\n    const newOperation = { ...amount, id: uuid.v4() };\n    await this.setState(state => ({\n      transaction: [...state.transaction, newOperation],\n    }));\n    const { transaction } = this.state;\n    const updBalance = this.getValues(transaction);\n    this.setState(state => ({ ...state, balance: updBalance }));\n  };\n\n  getValues = transaction => {\n    const values = transaction.reduce(\n      (acc, item) =>\n        acc[item.type]\n          ? (acc = { ...acc, [item.type]: (acc[item.type] += item.amount) })\n          : (acc = { ...acc, [item.type]: item.amount }),\n      {},\n    );\n    values.balance = values.Deposit - values.Withdrawal;\n    return values;\n  };\n\n  render() {\n    const { transaction, balance } = this.state;\n    return (\n      <div className={styles.dashboard}>\n        <Controls addOperation={this.handleClick} balance={balance.balance} />\n        <Balance changeBalance={balance} />\n        <TransactionHistory transactions={transaction} />\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Dashboard from './components/Dashboard';\nimport './index.css';\n\nReactDOM.render(<Dashboard />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2Job5\",\"input\":\"Controls_input__1qWUy\",\"btn\":\"Controls_btn__194ew Controls_input__1qWUy\"};"],"sourceRoot":""}